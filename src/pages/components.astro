---
import Layout from "../layouts/Layout.astro";
import HeroSection from "../components/home/HeroSection.astro";
import FeaturedStory from "../components/home/FeaturedStory.astro";
import PostCard from "../components/PostCard.astro";
import CategoryPills from "../components/blog/CategoryPills.astro";
import WebhookForm from "../components/WebhookForm.astro";

// Mock data for the demo
const mockPost = {
    url: "#",
    frontmatter: {
        title: "Example Component Post",
        description:
            "This is a mock description showing how the text will wrap inside of the component.",
        date: new Date().toISOString(),
        author: "AstroSite",
        category: "UI Demo",
        image: {
            url: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=2070&auto=format&fit=crop",
            alt: "Code on screen",
        },
    },
};

const mockCategories = ["UI Demo", "Frontend", "Backend", "Design System"];
---

<Layout
    title="Component Library"
    description="A showcase of all UI components used in AstroSite."
>
    <div class="container component-library">
        <header class="library-header">
            <h1 class="h1">Component <span>Library</span></h1>
            <p>
                A living styleguide showcasing the reusable UI components built
                for this project.
            </p>
        </header>

        <section class="demo-section">
            <div class="demo-header">
                <h2 class="h2">Typography & Buttons</h2>
                <p>Standard UI elements used across the site.</p>
            </div>
            <div class="demo-content flex-col">
                <h3 class="h3">Heading 3</h3>
                <p>
                    Standard paragraph text. AstroSite uses fluid typography
                    that scales beautifully based on the viewport size. This
                    makes reading a pleasant experience on any device.
                </p>

                <div class="button-group">
                    <a href="#" class="btn-primary">Primary Button</a>
                    <a href="#" class="btn-secondary">Secondary Button</a>
                </div>
            </div>
        </section>

        <section class="demo-section">
            <div class="demo-header">
                <h2 class="h2">Category Pills</h2>
                <p>
                    Interactive filters used on the blog index and category
                    pages.
                </p>
            </div>
            <div class="demo-content">
                <CategoryPills
                    categories={mockCategories}
                    activeCategory="Frontend"
                />
            </div>
        </section>

        <section class="demo-section">
            <div class="demo-header">
                <h2 class="h2">Post Card</h2>
                <p>
                    The standard card used for displaying blog post previews in
                    a grid.
                </p>
            </div>
            <div class="demo-content card-demo-container">
                <PostCard post={mockPost} />
            </div>
        </section>

        <section class="demo-section full-width">
            <div class="demo-header container">
                <h2 class="h2">Featured Story block</h2>
                <p>A larger, break-out component used for the newest post.</p>
            </div>
            <div class="demo-content">
                <FeaturedStory featuredPost={mockPost} />
            </div>
        </section>

        <section class="demo-section full-width">
            <div class="demo-header container">
                <h2 class="h2">Hero Section</h2>
                <p>The dynamic introductory section for the home page.</p>
            </div>
            <div class="demo-content hero-demo-container">
                <HeroSection />
            </div>
        </section>

        <section class="demo-section">
            <div class="demo-header">
                <h2 class="h2">Webhook Form</h2>
                <p>
                    The contact form that submits data via client-side
                    JavaScript.
                </p>
            </div>
            <div class="demo-content form-demo-container">
                <WebhookForm />
            </div>
        </section>
    </div>
</Layout>

<style>
    .component-library {
        padding-top: 2rem;
        padding-bottom: 6rem;
        display: flex;
        flex-direction: column;
        gap: 5rem;
    }

    .library-header {
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        padding-bottom: 2rem;
    }

    @media (prefers-color-scheme: dark) {
        .library-header {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }
    }

    .demo-section {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }

    .demo-section.full-width {
        max-width: 100vw;
        width: 100%;
        align-self: center;
    }

    .demo-header h2 {
        font-size: 1.8rem;
        margin-bottom: 0.5rem;
    }

    .demo-header p {
        color: var(--txt);
        opacity: 0.7;
        margin: 0;
    }

    .demo-content {
        padding: 3rem;
        background: rgba(0, 0, 0, 0.03);
        border: 1px dashed rgba(0, 0, 0, 0.15);
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    @media (prefers-color-scheme: dark) {
        .demo-content {
            background: rgba(255, 255, 255, 0.02);
            border-color: rgba(255, 255, 255, 0.15);
        }
    }

    .demo-content.hero-demo-container {
        padding: 0;
        overflow: hidden;
    }

    .card-demo-container {
        max-width: 400px;
        background: transparent;
        border: none;
        padding: 0;
    }

    .form-demo-container {
        max-width: 600px;
        margin: 0 auto;
        width: 100%;
    }

    .flex-col {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .button-group {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .btn-primary {
        display: inline-block;
        background: var(--txt);
        color: var(--bkg);
        padding: 0.8rem 2rem;
        border-radius: 9999px;
        text-decoration: none;
        font-weight: 600;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition:
            transform 0.2s ease,
            box-shadow 0.2s ease;
    }

    .btn-secondary {
        display: inline-block;
        padding: 0.8rem 2rem;
        border-radius: 9999px;
        border: 2px solid rgba(128, 128, 128, 0.3);
        color: var(--txt);
        text-decoration: none;
        font-weight: 600;
        transition: all 0.2s ease;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 40px rgba(99, 102, 241, 0.3);
    }

    .btn-secondary:hover {
        border-color: #6366f1;
        color: #6366f1;
    }
</style>
